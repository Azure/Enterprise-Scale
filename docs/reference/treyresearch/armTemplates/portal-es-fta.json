{
    "handler": "Microsoft.Azure.CreateUIDef",
    "version": "0.1.2-preview",
    "parameters": {
        "basics": [
            {}
        ],
        "steps": [
            {
                "name": "lzSettings",
                "label": "Enterprise-Scale Company prefix",
                "subLabel": {
                    "preValidation": "Provide a company prefix for the management group structure that will be created.",
                    "postValidation": "Done"
                },
                "bladeTitle": "Company prefix",
                "elements": [
                    {
                        "name": "infoBox1",
                        "type": "Microsoft.Common.InfoBox",
                        "visible": true,
                        "options": {
                            "icon": "Info",
                            "text": "Enterprise-Scale deployment requires access at the tenant root (/) scope. Visit this link to ensure you have the appropriate RBAC permission to complete the deployment",
                            "uri": "https://docs.microsoft.com/azure/role-based-access-control/elevate-access-global-admin"
                        }
                    },
                    {
                        "name": "esMgmtGroup",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Management Group prefix",
                        "toolTip": "Provide a prefix for management group structure, 1-5 characters.",
                        "defaultValue": "",
                        "constraints": {
                            "required": true,
                            "regex": "^[a-z0-9A-Z-]{1,5}$",
                            "validationMessage": "The prefix must be 1-5 characters."
                        }
                    }   
                ]
            },
            {
                "name": "esGoalState",
                "label": "Platform management, security, and governance",
                "subLabel": {
                    "preValidation": "TBD",
                    "postValidation": "Done"
                },
                "bladeTitle": "lzGs",
                "elements": [       
                    {
                        "name": "infoBox1",
                        "type": "Microsoft.Common.InfoBox",
                        "visible": true,
                        "options": {
                            "icon": "Info",
                            "text": "In this step, you can configure monitoring, security, and auditing settings to be enabled during the setup",
                            "uri": "https://github.com/juazasan/Enterprise-Scale/blob/trey-research-ri/docs/reference/Readme.md#platformSettings"
                        }
                    },
					{
                        "name": "esMgmtSub",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Management subscription id",
                        "toolTip": "Provide the subscription id of an existing, empty subscription that you want to dedicate for management, which will be moved into the management group for platform management.",
                        "defaultValue": "",
                        "constraints": {
                            "required": true,
                            "regex": "^[a-z0-9A-Z-]{36}$",
                            "validationMessage": "A valid subscription id must contain 36 characters."
                        }
                    },                                 
                    {
                        "name": "esLogAnalytics",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Enable monitoring for your platform and resources",
                        "defaultValue": "Yes",
                        "toolTip": "If you select 'Yes', a Log Analytics workspace will be deployed in the Management Subscription and collection of your platform resources logs will be enabled.",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes (recommended)",
                                    "value": "Yes"
                                },
                                {
                                    "label": "No",
                                    "value": "No"
                                }
                            ]
                        },
                        "visible": true
                    },
					{
                        "name": "esAsc",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Enable security monitoring for your platform and resources using Azure Security Center",
                        "defaultValue": "Free",
                        "toolTip": "Select 'Yes' and the preferred Tier (Standard or Free) to get Azure Security Center enabled automatically for all your subscriptions.",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes, Standard Tier (recommended)",
                                    "value": "Standard"
                                },
                                {
                                    "label": "Yes, Free Tier",
                                    "value": "Free"
                                },
								{
									"label": "No",
									"value": "No"
								}
                            ]
                        },
                        "visible": true
                    },
					{
                        "name": "esAuditAKV",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Audit key, certificate, and secret usage within each Key Vault.",
                        "defaultValue": "Yes",
                        "toolTip": "Select 'Yes' to audit key, certificate, and secret usage within each Key Vault in all Platform subscriptions.",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes (recommended)",
                                    "value": "Yes"
                                },
								{
									"label": "No",
									"value": "No"
								}
                            ]
                        },
                        "visible": true
                    },
					{
                        "name": "esCIS",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Enforce and audit CIS benchmark controls.",
                        "defaultValue": "Yes",
                        "toolTip": "Select 'Yes' to enforce and audit CIS benchmark controls in all Platform subscriptions.",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes (recommended)",
                                    "value": "Yes"
                                },
								{
									"label": "No",
									"value": "No"
								}
                            ]
                        },
                        "visible": true
                    }                    
                ]
            },
            {
                "name": "esConnectivityGoalState",
                "label": "Enable Hybrid Connectivity (Hub & Spoke) in your environment",
                "subLabel": {
                    "preValidation": "TBD",
                    "postValidation": "Done"
                },
                "bladeTitle": "lzGs",
                "elements": [
                    {
                        "name": "infoBox1",
                        "type": "Microsoft.Common.InfoBox",
                        "visible": true,
                        "options": {
                            "icon": "Info",
                            "text": "Hybrid connectivity is required for migration scenarios and/or connectivity to on-premises, you can enable it during the setup by specifying the subscription id of your Connectivity Subscription.",
                            "uri": "https://github.com/juazasan/Enterprise-Scale/blob/trey-research-ri/docs/reference/Readme.md#platformSettings"
                        }
                    },
                    {
                        "name": "esHS",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Skip this step",
                        "defaultValue": "No",
                        "toolTip": "If 'No' is selected if on-premise datacenter is not required from the start or if you require Virtual WAN. However, you can add it later on.",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes",
                                    "value": "Yes"
                                },
                                {
                                    "label": "No",
                                    "value": "No"
                                }
                            ]
                        },
                        "visible": true
                    },
                    {
                        "name": "esConnectivitySub",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Connectivity subscription id",
                        "toolTip": "Provide the subscription id of an existing, empty subscription that you want to dedicate for connectivity, which will be moved into the management group for platform connectivity.",
                        "defaultValue": "",
                        "visible": "[equals(steps('esConnectivityGoalState').esHS, 'No')]",
                        "constraints": {
                            "required": "[equals(steps('esConnectivityGoalState').esHS, 'No')]",
                            "regex": "^[a-z0-9A-Z-]{36}$",
                            "validationMessage": "A valid subscription id must contain 36 characters."
                        }
                    },
                    {
                        "name": "esAddress",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Address space (required for your Connectivity Hub)",
                        "toolTip": "Provide address prefix in CIDR notation (e.g 192.168.1.0/22)",
                        "defaultValue": "192.168.0.0/16",
                        "visible": "[equals(steps('esConnectivityGoalState').esHS, 'No')]",
                        "constraints": {
                            "required": "[equals(steps('esConnectivityGoalState').esHS, 'No')]",
                            "validationMessage": "The virtual hubs network's address space, specified as one address prefixes in CIDR notation (e.g. 192.168.1.0/24)"
                        }
                    },
                    {
                        "name": "esGwSubnetAddress",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Gateway Subnet Address space (required for your Connectivity Hub)",
                        "toolTip": "Provide the gateway subnet address prefix in CIDR notation (e.g 192.168.1.0/27)",
                        "defaultValue": "192.168.0.0/27",
                        "visible": "[equals(steps('esConnectivityGoalState').esHS, 'No')]",
                        "constraints": {
                            "required": "[equals(steps('esConnectivityGoalState').esHS, 'No')]",
                            "validationMessage": "The gateway subnet's address space, specified as one address prefixes in CIDR notation (e.g. 192.168.1.0/24)"
                        }
                    },                    
                    {
                        "name": "esRegions",
                        "type": "Microsoft.Common.DropDown",
                        "label": "Region for first virtual hub",
                        "defaultValue": "",
                        "visible": "[equals(steps('esConnectivityGoalState').esHS, 'No')]",
                        "toolTip": "Select the target region for you connectivity deployment (requires you to provide a subscriptionId for connectivity)",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "East Asia",
                                    "value": "eastasia"
                                },
                                {
                                    "label": "Southeast Asia",
                                    "value": "southeastasia"
                                },
                                {
                                    "label": "Central US",
                                    "value": "centralus"
                                },
                                {
                                    "label": "East US",
                                    "value": "eastus"
                                },
                                {
                                    "label": "East US 2",
                                    "value": "eastus2"
                                },
                                {
                                    "label": "West US",
                                    "value": "westus"
                                },
                                {
                                    "label": "North Central US",
                                    "value": "northcentralus"
                                },
                                {
                                    "label": "South Central US",
                                    "value": "southcentralus"
                                },
                                {
                                    "label": "North Europe",
                                    "value": "northeurope"
                                },
                                {
                                    "label": "West Europe",
                                    "value": "westeurope"
                                },
                                {
                                    "label": "Japan West",
                                    "value": "japanwest"
                                },
                                {
                                    "label": "Japan East",
                                    "value": "japaneast"
                                },
                                {
                                    "label": "Brazil South",
                                    "value": "brazilsouth"
                                },
                                {
                                    "label": "Australia East",
                                    "value": "australiaeast"
                                },
                                {
                                    "label": "Australia Southeast",
                                    "value": "australiasoutheast"
                                },
                                {
                                    "label": "South India",
                                    "value": "southindia"
                                },
                                {
                                    "label": "Central India",
                                    "value": "centralindia"
                                },
                                {
                                    "label": "Canada East",
                                    "value": "canadaeast"
                                },
                                {
                                    "label": "UK South",
                                    "value": "uksouth"
                                },
                                {
                                    "label": "UK West",
                                    "value": "ukwest"
                                },
                                {
                                    "label": "West Central US",
                                    "value": "westcentralus"
                                },
                                {
                                    "label": "West US 2",
                                    "value": "westus2"
                                },
                                {
                                    "label": "Korea Central",
                                    "value": "koreacentral"
                                },
                                {
                                    "label": "Korea South",
                                    "value": "koreasouth"
                                },
                                {
                                    "label": "France Central",
                                    "value": "francecentral"
                                },
                                {
                                    "label": "France South",
                                    "value": "francesouth"
                                },
                                {
                                    "label": "Australia Central",
                                    "value": "australiacentral"
                                },
                                {
                                    "label": "UAE Central",
                                    "value": "uaecentral"
                                },
                                {
                                    "label": "UAE North",
                                    "value": "uaenorth"
                                },
                                {
                                    "label": "South Africa North",
                                    "value": "southafricanorth"
                                },
                                {
                                    "label": "South Africa West",
                                    "value": "southafricawest"
                                },
                                {
                                    "label": "Switzerland North",
                                    "value": "switzerlandnorth"
                                },
                                {
                                    "label": "Switzerland West",
                                    "value": "switzerlandwest"
                                },
                                {
                                    "label": "Germany North",
                                    "value": "germanynorth"
                                },
                                {
                                    "label": "Germany West Central",
                                    "value": "germanywestcentral"
                                },
                                {
                                    "label": "Norway West",
                                    "value": "norwaywest"
                                },
                                {
                                    "label": "Norway East",
                                    "value": "norwayeast"
                                }
                            ],
                            "required": "[equals(steps('esConnectivityGoalState').esHS, 'No')]"
                        }
                    },
                    {
                        "name": "esVpnGw",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Enable VPN connectivity",
                        "defaultValue": "Yes",
                        "visible": "[equals(steps('esConnectivityGoalState').esHS, 'No')]",
                        "toolTip": "If 'Yes' is selected, a VPN gateway will be deployed",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes",
                                    "value": "Yes"
                                },
                                {
                                    "label": "No",
                                    "value": "No"
                                }
                            ]
                        }
                    },
                    {
                        "name": "esErGw",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Enable private connectivity using ExpressRoute",
                        "defaultValue": "No",
                        "visible": "[equals(steps('esConnectivityGoalState').esHS, 'No')]",
                        "toolTip": "If 'Yes' is selected, an Express Route gateway will be deployed",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes",
                                    "value": "Yes"
                                },
                                {
                                    "label": "No",
                                    "value": "No"
                                }
                            ]
                        }
                    },
                    {
                        "name": "esAzFw",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Deploy a perimeter Firewall in Azure",
                        "defaultValue": "No",
                        "visible": "[equals(steps('esConnectivityGoalState').esHS, 'No')]",
                        "toolTip": "If 'Yes' is selected, an Azure Firewall will be deployed",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes (recommended)",
                                    "value": "Yes"
                                },
                                {
                                    "label": "No",
                                    "value": "No"
                                }
                            ]
                        }
                    },
                    {
                        "name": "esFwSubnetAddress",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Azure Firewall Subnet's Address space",
                        "toolTip": "Provide address prefix in CIDR notation (e.g 192.168.1.0/22)",
                        "defaultValue": "192.168.0.0/16",
                        "visible": "[equals(steps('esConnectivityGoalState').esAzFw, 'Yes')]",
                        "constraints": {
                            "required": "[equals(steps('esConnectivityGoalState').esAzFw, 'Yes')]",
                            "validationMessage": "The Azure Firewall Subnet's address space, specified as one address prefixes in CIDR notation (e.g. 192.168.1.0/24)"
                        }
                    }
                ]
            },                    
            {
                "name": "lzGoalState",
                "label": "Landing Zone template definition",
                "subLabel": {
                    "preValidation": "TBD.",
                    "postValidation": "Done"
                },
                "bladeTitle": "lzGs",
                "elements": [       
                    {
                        "name": "infoBox1",
                        "type": "Microsoft.Common.InfoBox",
                        "visible": true,
                        "options": {
                            "icon": "Info",
                            "text": "Define a Landing Zone template including a set of policies that will ensure workloads will be secure, monitored, and protected according to best practices.",
                            "uri": "https://github.com/Azure/Enterprise-Scale/blob/main/docs/Deploy/ES-schema.md"
                        }
                    },
					{
                        "name": "esLzTypeName",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Landing zone definition name",
                        "toolTip": "Provide a name (up to 10 characters) to assign to this Landing Zone definition.",
                        "defaultValue": "Production",
                        "constraints": {
                            "required": false,
                            "regex": "^[a-z0-9A-Z-]{10}$",
                            "validationMessage": "A valid subscription id must contain 36 characters. If you don't want to bring a subscription at this point, leave the parameter completely empty."
                        }
                    },                                 
                    {
                        "name": "esAzBackup",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Ensure VMs are enabled for backup",
                        "defaultValue": "No",
                        "toolTip": "If 'Yes' is selected, Azure Policy will be assigned and enable Azure Backup on all VMs in the landing zones.",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes (recommended)",
                                    "value": "Yes"
                                },
                                {
                                    "label": "No",
                                    "value": "No"
                                }
                            ]
                        },
                        "visible": true
                    },
					{
                        "name": "esDenyRdp",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Prevent inbound RDP from internet",
                        "defaultValue": "No",
                        "toolTip": "If 'Yes' is selected, Azure Policy will be assigned and prevent inbound RDP from internet",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes (recommended)",
                                    "value": "Yes"
                                },
								{
									"label": "No",
									"value": "No"
								}
                            ]
                        },
                        "visible": true
                    },
					{
                        "name": "esNsg",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Ensure subnets are associated with NSG",
                        "defaultValue": "No",
                        "toolTip": "If 'Yes' is selected, Azure Policy will be assigned to ensure NSGs must be associated with subnets being created",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes (recommended)",
                                    "value": "Yes"
                                },
								{
									"label": "No",
									"value": "No"
								}
                            ]
                        },
                        "visible": true
                    },
					{
                        "name": "esIpForwarding",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Prevent IP forwarding",
                        "defaultValue": "No",
                        "toolTip": "If 'Yes' is selected, Azure Policy will be assigned and prevent IP forwarding",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes (recommended)",
                                    "value": "Yes"
                                },
								{
									"label": "No",
									"value": "No"
								}
                            ]
                        },
                        "visible": true
                    },
					{
                        "name": "esSqlEncryption",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Ensure Azure SQL is enabled with transparent data encryption",
                        "defaultValue": "No",
                        "toolTip": "If 'Yes' is selected when also adding a subscription for management, ARM will deploy resources and enable them for continous compliance",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes (recommended)",
                                    "value": "Yes"
                                },
								{
									"label": "No",
									"value": "No"
								}
                            ]
                        },
                        "visible": true
                    },
					{
                        "name": "esSqlAudit",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Ensure auditing is enabled on Azure SQL",
                        "defaultValue": "No",
                        "toolTip": "If 'Yes' is selected, Azure Policy will be assigned to ensure auditing is enabled on Azure SQLs",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes (recommended)",
                                    "value": "Yes"
                                },
								{
									"label": "No",
									"value": "No"
								}
                            ]
                        },
                        "visible": true
                    },					
					{
                        "name": "esHttpsStorage",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Ensure secure connections (HTTPS) to storage accounts",
                        "defaultValue": "No",
                        "toolTip": "If 'Yes' is selected, Azure Policy will be assigned to ensure storage can only be accessed using HTTPS",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes (recommended)",
                                    "value": "Yes"
                                },
								{
									"label": "No",
									"value": "No"
								}
                            ]
                        },
                        "visible": true
                    },
					{
                        "name": "esLzSub",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Landing zone subscription id",
                        "toolTip": "Provide the subscription id of an existing, empty subscription that you want to use as landing zone for your workload deployments.",
                        "defaultValue": "",
                        "constraints": {
                            "required": false,
                            "regex": "^[a-z0-9A-Z-]{36}$",
                            "validationMessage": "A valid subscription id must contain 36 characters. If you don't want to bring a subscription at this point, leave the parameter completely empty."
                        }
                    },               
					{
                        "name": "esAuditAKVlz",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Audit key, certificate, and secret usage within each Key Vault.",
                        "defaultValue": "Yes",
                        "toolTip": "Select 'Yes' to audit key, certificate, and secret usage within each Key Vault.",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes (recommended)",
                                    "value": "Yes"
                                },
								{
									"label": "No",
									"value": "No"
								}
                            ]
                        },
                        "visible": true
                    },
					{
                        "name": "esCISlz",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Enforce and audit CIS benchmark controls.",
                        "defaultValue": "Yes",
                        "toolTip": "Select 'Yes' to enforce and audit CIS benchmark controls.",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes (recommended)",
                                    "value": "Yes"
                                },
								{
									"label": "No",
									"value": "No"
								}
                            ]
                        },
                        "visible": true
                    }
                ]
            },                    
            {
                "name": "lzDeploy",
                "label": "Deploy your First Landing Zone",
                "subLabel": {
                    "preValidation": "TBD.",
                    "postValidation": "Done"
                },
                "bladeTitle": "lzDeploy",
                "elements": [       
                    {
                        "name": "infoBox1",
                        "type": "Microsoft.Common.InfoBox",
                        "visible": true,
                        "options": {
                            "icon": "Info",
                            "text": "You can optionally provide a subscriptionId for your first landing zone.",
                            "uri": "https://github.com/Azure/Enterprise-Scale/blob/main/docs/Deploy/ES-schema.md"
                        }
                    },
                    {
                        "name": "lzDeploySkip",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Skip provisioning of first Landing Zone",
                        "defaultValue": "No",
                        "toolTip": "If 'Yes' is selected a Landing Zone will not be configured.",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes",
                                    "value": "Yes"
                                },
                                {
                                    "label": "No",
                                    "value": "No"
                                }
                            ]
                        },
                        "visible": true
                    },
					{
                        "name": "lzSub",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Landing zone subscription id",
                        "toolTip": "Provide the subscription id of an existing, empty subscription that you want to use as landing zone for your workload deployments.",
                        "defaultValue": "",
                        "visible": "[equals(steps('lzDeploy').lzDeploySkip, 'No')]",
                        "constraints": {
                            "required": "[equals(steps('lzDeploy').lzDeploySkip, 'No')]",
                            "regex": "^[a-z0-9A-Z-]{36}$",
                            "validationMessage": "A valid subscription id must contain 36 characters. If you don't want to bring a subscription at this point, leave the parameter completely empty."
                        }
                    },
                    {
                        "name": "lzVnet",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Provision a Virtual Network within your Landing Zone",
                        "defaultValue": "Yes",
                        "toolTip": "If 'Yes' is selected a Virtual Network will be provisioned and configured.",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes",
                                    "value": "Yes"
                                },
                                {
                                    "label": "No",
                                    "value": "No"
                                }
                            ],
                            "required": "[equals(steps('lzDeploy').lzDeploySkip, 'No')]"
                        },
                        "visible": "[equals(steps('lzDeploy').lzDeploySkip, 'No')]"
                    },
                    {
                        "name": "lzVnetAddress",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Landing Zone Network's Address space",
                        "toolTip": "Provide address prefix in CIDR notation (e.g 192.168.1.0/22)",
                        "defaultValue": "192.168.0.0/16",
                        "visible": "[equals(steps('lzDeploy').lzVnet, 'Yes')]",
                        "constraints": {
                            "required": "[equals(steps('lzDeploy').lzVnet, 'Yes')]",
                            "validationMessage": "The Landing Zone network's address space, specified as one address prefixes in CIDR notation (e.g. 192.168.1.0/24)"
                        }
                    },                  
                    {
                        "name": "lzVnetRegion",
                        "type": "Microsoft.Common.DropDown",
                        "label": "Landing Zone Network's Location",
                        "defaultValue": "",
                        "visible": "[equals(steps('lzDeploy').lzVnet, 'Yes')]",
                        "toolTip": "Select the target region for this Landing Zone",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "East Asia",
                                    "value": "eastasia"
                                },
                                {
                                    "label": "Southeast Asia",
                                    "value": "southeastasia"
                                },
                                {
                                    "label": "Central US",
                                    "value": "centralus"
                                },
                                {
                                    "label": "East US",
                                    "value": "eastus"
                                },
                                {
                                    "label": "East US 2",
                                    "value": "eastus2"
                                },
                                {
                                    "label": "West US",
                                    "value": "westus"
                                },
                                {
                                    "label": "North Central US",
                                    "value": "northcentralus"
                                },
                                {
                                    "label": "South Central US",
                                    "value": "southcentralus"
                                },
                                {
                                    "label": "North Europe",
                                    "value": "northeurope"
                                },
                                {
                                    "label": "West Europe",
                                    "value": "westeurope"
                                },
                                {
                                    "label": "Japan West",
                                    "value": "japanwest"
                                },
                                {
                                    "label": "Japan East",
                                    "value": "japaneast"
                                },
                                {
                                    "label": "Brazil South",
                                    "value": "brazilsouth"
                                },
                                {
                                    "label": "Australia East",
                                    "value": "australiaeast"
                                },
                                {
                                    "label": "Australia Southeast",
                                    "value": "australiasoutheast"
                                },
                                {
                                    "label": "South India",
                                    "value": "southindia"
                                },
                                {
                                    "label": "Central India",
                                    "value": "centralindia"
                                },
                                {
                                    "label": "Canada East",
                                    "value": "canadaeast"
                                },
                                {
                                    "label": "UK South",
                                    "value": "uksouth"
                                },
                                {
                                    "label": "UK West",
                                    "value": "ukwest"
                                },
                                {
                                    "label": "West Central US",
                                    "value": "westcentralus"
                                },
                                {
                                    "label": "West US 2",
                                    "value": "westus2"
                                },
                                {
                                    "label": "Korea Central",
                                    "value": "koreacentral"
                                },
                                {
                                    "label": "Korea South",
                                    "value": "koreasouth"
                                },
                                {
                                    "label": "France Central",
                                    "value": "francecentral"
                                },
                                {
                                    "label": "France South",
                                    "value": "francesouth"
                                },
                                {
                                    "label": "Australia Central",
                                    "value": "australiacentral"
                                },
                                {
                                    "label": "UAE Central",
                                    "value": "uaecentral"
                                },
                                {
                                    "label": "UAE North",
                                    "value": "uaenorth"
                                },
                                {
                                    "label": "South Africa North",
                                    "value": "southafricanorth"
                                },
                                {
                                    "label": "South Africa West",
                                    "value": "southafricawest"
                                },
                                {
                                    "label": "Switzerland North",
                                    "value": "switzerlandnorth"
                                },
                                {
                                    "label": "Switzerland West",
                                    "value": "switzerlandwest"
                                },
                                {
                                    "label": "Germany North",
                                    "value": "germanynorth"
                                },
                                {
                                    "label": "Germany West Central",
                                    "value": "germanywestcentral"
                                },
                                {
                                    "label": "Norway West",
                                    "value": "norwaywest"
                                },
                                {
                                    "label": "Norway East",
                                    "value": "norwayeast"
                                }
                            ],
                            "required": "[equals(steps('lzDeploy').lzVnet, 'Yes')]"
                        }
                    },
                    {
                        "name": "lzWAF",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Deploy a Web Application Firewall",
                        "defaultValue": "No",
                        "visible": "[equals(steps('lzDeploy').lzVnet, 'Yes')]",
                        "toolTip": "If 'Yes' is selected, a Web Application Firewall will be deployed to the Landing Zone",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Yes (recommended)",
                                    "value": "Yes"
                                },
                                {
                                    "label": "No",
                                    "value": "No"
                                }
                            ],
                            "required": "[equals(steps('lzDeploy').lzVnet, 'Yes')]"
                        }
                    },
                    {
                        "name": "lzWAFSubnetAddress",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Web Application Firewall Subnet's Address space",
                        "toolTip": "Provide address prefix in CIDR notation (e.g 192.168.1.0/22)",
                        "defaultValue": "192.168.0.0/16",
                        "visible": "[equals(steps('lzDeploy').lzWAF, 'Yes')]",
                        "constraints": {
                            "required": "[equals(steps('lzDeploy').lzWAF, 'Yes')]",
                            "validationMessage": "The Web Application Firewall Subnet's address space, specified as one address prefixes in CIDR notation (e.g. 192.168.1.0/24)"
                        }
                    },
                    {
                        "name": "lzWAFType",
                        "type": "Microsoft.Common.OptionsGroup",
                        "label": "Web Application Firewall Front-end Type",
                        "toolTip": "Specify 'External' if the WAF is expected to provide access to Public Facing Applications",
                        "defaultValue": "External",
                        "visible": "[equals(steps('lzDeploy').lzWAF, 'Yes')]",
                        "constraints": {
                            "allowedValues": [
                                {
                                    "label": "Internal",
                                    "value": "Internal"
                                },
                                {
                                    "label": "External",
                                    "value": "External"
                                }
                            ],
                            "required": "[equals(steps('lzDeploy').lzWAF, 'Yes')]"
                        }
                    }
                ]
            }		            			
        ],
        "outputs": {
            "setup": "[steps('esSetup').setup]",
            "managementSubscriptionId": "[steps('esGoalState').esMgmtSub]",
            "lzSubscriptionId": "[steps('lzGoalState').esLzSub]",
            "enableLogAnalytics": "[steps('esGoalState').esLogAnalytics]",
            "enableAsc": "[steps('esGoalState').esAsc]",
            "enablePrivateEndpoint": "[steps('esGoalState').esPrivateEndpoint]",
            "enableAzBackup": "[steps('esGoalState').esAzBackup]",
            "enterpriseScaleCompanyPrefix": "[steps('lzSettings').esMgmtGroup]",
            "enableSqlAudit":"[steps('lzGoalState').esSqlAudit]",
            "enableSqlEncryption": "[steps('lzGoalState').esSqlEncryption]",
            "enableVmBackup": "[steps('lzGoalState').esAzBackup]",
            "denyRdp": "[steps('lzGoalState').esDenyRdp]",
            "enableStorageHttps": "[steps('lzGoalState').esHttpsStorage]",
            "denyIpForwarding": "[steps('lzGoalState').esIpForwarding]",
            "denySubnetWithoutNsg": "[steps('lzGoalState').esNsg]"

        }
    }
}