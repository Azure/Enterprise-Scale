{
  "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "input": {
      "value": {
        "Name": "Deploy-Diag-LogAnalytics",
        "PolicySetDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policySetDefinitions/Deploy-Diag-LogAnalytics",
        "Properties": {
          "Description": "This initiative configures application Azure resources to forward diagnostic logs and metrics to an Azure Log Analytics workspace.",
          "DisplayName": "Deploy-Diag-LogAnalytics",
          "Parameters": {
            "logAnalytics": {
              "metadata": {
                "description": "Select the Log Analytics workspace from dropdown list",
                "displayName": "Log Analytics workspace",
                "strongType": "omsWorkspace"
              },
              "type": "String"
            }
          },
          "PolicyDefinitionGroups": null,
          "PolicyDefinitions": [
            {
              "policyDefinitionReferenceId": "12748914533671294480",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-NIC",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "11721622783370569283",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-PowerBIEmbedded",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "18406368427532990231",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-StreamAnalytics",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "2657536591903750145",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-ExpressRoute",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "8333176370635945113",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-ACI",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "9327582733658605247",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-ACR",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "13127751624408077479",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-VirtualNetwork",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "12537748911754914866",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-VM",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "4681632935530011797",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-VMSS",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "17431796040501027150",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-VNetGW",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "12636005648497476200",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-AKS",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "15265370079520850596",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-Website",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "10819144386866898827",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-AnalysisService",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "2310296975077942158",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-EventGridTopic",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "4958205002656783487",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-EventGridSub",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "12071295552430063598",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-HDInsight",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "15259409986905875425",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-RedisCache",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "14605575513322936047",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-Relay",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "2799959444407438104",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-SignalR",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "562025973401756149",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-TrafficManager",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "8744465456568847406",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-WebServerFarm",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "12983045915977830288",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-SQLMI",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "17356975566746211438",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-Firewall",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "10067812278581224165",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-DataFactory",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "15564592063386722655",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-CosmosDB",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "5626301391051621227",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-CDNEndpoints",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "6839761484726482518",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-AA",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "1273002550467573319",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-PublicIP",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "9789819402174123760",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-LoadBalancer",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "11064952711756038699",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-NetworkSecurityGroups",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "15150451171623157139",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-KeyVault",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "12943287812910810337",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-CognitiveServices",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "4539141987772661184",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-DLAnalytics",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "4657457151077061757",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-DataLakeStore",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "16480751831393765633",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-EventHub",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "5709463851978596995",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-iotHub",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "6671379659181049562",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-TimeSeriesInsights",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "12155803168960504174",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-LogicAppsWF",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "5528674233880123324",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-RecoveryVault",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "5096043084077150185",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-SearchServices",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "2495347527217582926",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-ServiceBus",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "12658352519370702956",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-SQLDBs",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "374872263188846026",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-SQLElasticPools",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "8244949349366621602",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-APIMgmt",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "11963408133461356675",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-ApplicationGateway",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "260338285459672070",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-Batch",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "10128235000475585695",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-MySQL",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "10237546812115653525",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-PostgreSQL",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "10532777692745596153",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-LogicAppsISE",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "1497237823253867645",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-MlWorkspace",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            }
          ]
        },
        "ResourceId": "/providers/Microsoft.Management/managementGroups/ripom/providers/Microsoft.Authorization/policySetDefinitions/Deploy-Diag-LogAnalytics",
        "ResourceName": "Deploy-Diag-LogAnalytics",
        "ResourceType": "Microsoft.Authorization/policySetDefinitions",
        "SubscriptionId": null
      }
    }
  }
}
